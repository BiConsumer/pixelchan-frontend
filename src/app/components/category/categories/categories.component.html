<div class="categories container">

  <div class="position-relative spinner">
    <ngx-spinner name="categories" type="line-scale-pulse-out" [fullScreen]="false" size="large" color="#4e62ce" bdColor="transparent"></ngx-spinner>
  </div>

  <ng-template [ngIf]="displays">

    <div class="row head d-none d-md-flex">
      <p class="col-5">{{"SHARED.CATEGORY" | translate}}</p>
      <p class="col-2">{{"SHARED.TOPICS" | translate}}</p>
      <p class="col-5">{{"SHARED.LATEST" | translate}}</p>
    </div>


    <ng-template ngFor let-display [ngForOf]="displays" let-i="index">
      <div class="category row">

        <div class="col-5">
          <a class="category-title" routerLink="/category/{{display.category.id}}">{{"CATEGORY." + display.category.id + ".NAME" | uppercase | translate}}</a>
          <p class="category-description d-none d-md-block">{{"CATEGORY." + display.category.id + ".DESCRIPTION" | uppercase | translate}}</p>
        </div>

        <div class="col-2 category-topics d-none d-md-block">
          <span>{{display.topicDisplays.length}}</span>
        </div>

        <div class="col-md-5 container">
          <ng-template ngFor let-latest [ngForOf]="display.topicDisplays | slice:0:5" let-i="index">
            <div class="category-topic row">

              <div class="d-flex d-md-block col-md category-topic-name">
                <a class="category-topic-name" routerLink="/topic/{{latest.topic.id}}">
                  {{latest.topic.name}}
                </a>

                <span class="d-inline d-md-none text-nowrap category-topic-date">{{latest.posts[0].createdAt | dateAgo}}</span>

                <p class="d-block d-md-none category-topic-replies ms-auto">{{latest.posts.length-1}}</p>
              </div>

              <span class="category-topic-date d-none d-md-block col-md-auto">{{latest.posts[0].createdAt | dateAgo}}</span>

            </div>
          </ng-template>
        </div>

      </div>
    </ng-template>

  </ng-template>
</div>
