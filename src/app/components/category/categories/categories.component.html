<div class="categories container">

  <div class="row head">
    <p class="col-6">Category</p>
    <p class="col-1">Topics</p>
    <p class="col">Latest</p>
  </div>

  <div class="position-relative spinner">
    <ngx-spinner name="categories" type="line-scale-pulse-out" [fullScreen]="false" size="large" color="#4e62ce" bdColor="transparent"></ngx-spinner>
  </div>

  <ng-template ngFor let-display [ngForOf]="displays" let-i="index">
    <div class="category row">

      <div class="col-6">
        <a class="category-link" routerLink="/category/{{display.category.id}}">
          <span class="category-title">{{display.category.name}}</span>
        </a>
        <p class="category-description">{{display.category.description}}</p>
      </div>

      <div class="col-1 category-topics">
        <span>{{display.topicDisplays.length}}</span>
      </div>

      <div class="col">
        <ng-template ngFor let-latest [ngForOf]="display.topicDisplays | slice:0:5" let-i="index">
          <div class="category-topic row">
            <a class="category-topic-name col" routerLink="/topic/{{latest.topic.id}}">{{latest.topic.name}}</a>
            <span class="category-topic-date col-auto">{{latest.posts[0].createdAt | dateAgo}}</span>
          </div>
        </ng-template>
      </div>

    </div>
  </ng-template>
</div>
